<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>OpenCAP: Installation</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">OpenCAP
   </div>
   <div id="projectbrief">Electronic structure of metastable states</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Installation </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="autotoc_md7"></a>
Installing the dependencies</h1>
<p>Building OpenCAP requires the following:</p>
<ul>
<li>C++ compiler with full C++17 language support and standard libraries (<b>Warning: Default Apple Clang on MacOS requires special care</b>)</li>
<li>Python3 interpreter and development libraries: version &gt;= 3.6</li>
<li><a href="https://cmake.org/">CMake</a>: version &gt;= 3.12</li>
<li><a href="https://www.hdfgroup.org/solutions/hdf5/">HDF5</a>: hierarchical data format, version &gt;= 1.10</li>
<li><a href="http://eigen.tuxfamily.org/dox/">Eigen</a>: linear algebra library, version &gt;= 3.3</li>
</ul>
<p>All of these dependencies are available through standard package managers such as <a href="https://brew.sh/">Homebrew</a>, <a href="https://docs.conda.io/en/latest/">Conda</a>, and yum/apt-get on Linux.</p>
<p>The following packages are automatically built at the CMake step (no action required):</p>
<ul>
<li><a href="https://github.com/dftlibs/numgrid">Numgrid</a>: numerical integration library</li>
<li><a href="https://github.com/DavidAce/h5pp">h5pp</a>: C++17 wrapper for HDF5</li>
<li><a href="https://github.com/pybind/pybind11">pybind11</a>: C++ Python bindings</li>
</ul>
<h1><a class="anchor" id="autotoc_md8"></a>
Basic steps</h1>
<p>These steps have been tested on MacOS 10.13-10.15, and on Centos7.</p>
<p>First clone the git repo </p><pre class="fragment">git clone https://github.com/gayverjr/opencap.git
cd opencap/opencap
</pre><p>Then generate the Makefile using CMake </p><pre class="fragment">mkdir build
cd build
cmake -DCMAKE_INSTALL_PREFIX=/path/to/install/dir ..
</pre><p>Once the Makefile is generated, build and install the executable. </p><pre class="fragment">make
make install
</pre><p><b>MacOS</b></p>
<p>For Mac users on <b>MacOS 10.14 Mojave</b> or <b>MacOS 10.15 Catalina</b>, the Apple Clang provided by XCode is missing some C++17 standard library features, which will cause the CMake step to fail. A drop-in replacement for the missing std::filesystem can be automatically downloaded and installed by passing -DH5PP_DOWNLOAD_METHOD=fetch as an argument to CMake: </p><pre class="fragment">cmake -DH5PP_DOWNLOAD_METHOD=fetch -DCMAKE_INSTALL_PREFIX=/path/to/install/dir ..
</pre><p>For Mac users on <b>MacOS 10.13 High Sierra</b> or earlier, the Apple Clang provided by XCode <b>will not work</b>. We suggest installing the latest version of GCC (currently 10.2) from <a href="https://brew.sh/">Homebrew</a>, and then setting proper environment variables for CMake: </p><pre class="fragment">CC=gcc-10 CXX=g++-10 cmake -DCMAKE_INSTALL_PREFIX=/path/to/install/dir ..
</pre><p><b>Linux</b></p>
<p>For Linux users, any compiler which fully supports the C++17 standard should work (e.g GCC 7.x or later). If you are unsure, try updating to the latest version of your compiler. Depending on your distribution, you may also need to install Python3 development libraries e.g. <code>sudo apt-get install python3.x-dev</code>.</p>
<h1><a class="anchor" id="autotoc_md9"></a>
Verify installation</h1>
<p>To verify your installation, run the tests in the build directory </p><pre class="fragment">make test
</pre><p>To run OpenCAP, specify an input file from the command line </p><pre class="fragment">/path/to/opencap input_file.in 
</pre><p>See the <a href="https://github.com/gayverjr/opencap/tree/master/examples/opencap">examples</a> directory and our <a href="input.html">input </a> page to help get you started. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
